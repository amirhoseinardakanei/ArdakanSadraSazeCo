{% extends 'Base/index.html' %}



{% block title %}همکاری با ما{% endblock %}


{% block body %}
    <section class="contact-section pb-100 pt-100">
            <div class="container">
                <div class="section-title text-center" style="margin-top: 30px">
                    <span>فرم همکاری با ما</span>
                    <h2>مهارت و رزومه کاری</h2>
                </div>

                <div class="row" style="margin-top: 100px">
                    <div class="col-lg-12">
                        <div class="contact-area">
                            <form id="multiStepForm" action="{% url 'CooperateStep_3' %}" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <!-- مرحله سوم: اطلاعات خانوادگی -->
                                <div class="step" id="step3">





                                    <div class="form-group">
                                        <label class="form-label" style="font-size: 20px; color: #000000">عناوین شغل های درخواستی :</label>
                                        <div class="checkbox-group">
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="مالی و حسابداری" checked="true"> مالی و حسابداری
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="آی تی"> آی تی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="فروش"> فروش
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="خرید"> خرید
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="دفتر فنی"> دفتر فنی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="خدمات"> خدمات
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="ایمنی"> ایمنی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="آتش نشانی"> آتش نشانی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="منابع انسانی"> منابع انسانی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="فضای سبز"> فضای سبز
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="عمران و مهندسی"> عمران و مهندسی
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="رستوران"> رستوران
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="راننده خودرو سبک"> راننده خودرو سبک
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="راننده خودرو سنگین"> راننده خودرو سنگین
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="راننده لیفتراک"> راننده لیفتراک
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="اپراتور جرثقیل"> اپراتور جرثقیل
                                            </label>
                                            <label class="checkbox-btn">
                                                <input type="checkbox" name="topics" value="نگهداری و تعمیرات ماشین آلات"> نگهداری و تعمیرات ماشین آلات
                                            </label>
                                        </div>
                                        {% if topicses == '0' %}
                                        	<ul class="errorlist" id="error-message" style=""><li>حداقل باید یک شغل را انتخاب کنید.</li></ul>
                                        {% endif %}
                                    </div>

                                    {% if status_step %}
                                    	<div class="form-group">
                                            <label class="form-label" style="font-size: 20px; color: #000000">انتخاب های قبلی شما :</label>
                                            <div class="checkbox-group">
                                                {% for topics in topicses %}
                                                    <label class="checkbox-btn">
                                                        <input type="checkbox" value="" checked disabled>{{ topics }}
                                                    </label>
                                                {% endfor %}

                                            </div>
                                            {% if topicses == '0' %}
                                                <ul class="errorlist" id="error-message" style=""><li>حداقل باید یک شغل را انتخاب کنید.</li></ul>
                                            {% endif %}
                                        </div>
                                    {% endif %}


                                    <script>
                                        document.querySelectorAll(".checkbox-btn").forEach(btn => {
                                            btn.addEventListener("click", function () {
                                                let input = this.querySelector("input");
                                                input.checked = !input.checked;
                                                this.classList.toggle("checked", input.checked);
                                            });
                                        });
                                    </script>



{#                                    <div class="form-group">#}
{#                                        <select class="form-control" id="work-like"  name="gender">#}
{#                                            <option value="0">عنوان شغل درخواستی</option>#}
{#                                            <option value="مالی و حسابداری">مالی و حسابداری</option>#}
{#                                            <option value="آی تی">آی تی</option>#}
{#                                            <option value="فروش">فروش</option>#}
{#                                            <option value="خرید">خرید</option>#}
{#                                            <option value="دفتر فنی">دفتر فنی</option>#}
{#                                            <option value="خدمات">خدمات</option>#}
{#                                            <option value="ایمنی">ایمنی</option>#}
{#                                            <option value="آتش نشانی">آتش نشانی</option>#}
{#                                            <option value="منابع انسانی">منابع انسانی</option>#}
{#                                            <option value="فضای سبز">فضای سبز</option>#}
{#                                            <option value="عمران و مهندسی">عمران و مهندسی</option>#}
{#                                            <option value="رستوران">رستوران</option>#}
{#                                            <option value="راننده خودرو سبک">راننده خودرو سبک</option>#}
{#                                            <option value="راننده خودرو سنگین">راننده خودرو سنگین</option>#}
{#                                            <option value="راننده لیفتراک">راننده لیفتراک</option>#}
{#                                            <option value="اپراتور جرثقیل">اپراتور جرثقیل</option>#}
{#                                            <option value="نگهداری و تعمیرات ماشین آلات">نگهداری و تعمیرات ماشین آلات</option>#}
{#                                            <option value="سایر">سایر</option>#}
{##}
{#                                        </select>#}
{#                                    </div>#}

                                    <div class="form-group">
                                        <label class="input-label"> مدرک تحصیلی :</label>
                                        <select class="form-control" id="degree"  name="degree" onchange="toggleEducationField2()">
                                            {% if degree == None %}
                                            	<option value="0">مدرک تحصیلی</option>
                                                <option value="سیکل">سیکل</option>
                                                <option value="دیپلم">دیپلم</option>
                                                <option value="فوق دیپلم">فوق دیپلم</option>
                                                <option value="لیسانس">لیسانس</option>
                                                <option value="فوق لیسانس">فوق لیسانس</option>
                                                <option value="دکترا">دکترا</option>
                                            {% elif degree == '0' %}
                                                <option value="0">مدرک تحصیلی</option>
                                                <option value="سیکل">سیکل</option>
                                                <option value="دیپلم">دیپلم</option>
                                                <option value="فوق دیپلم">فوق دیپلم</option>
                                                <option value="لیسانس">لیسانس</option>
                                                <option value="فوق لیسانس">فوق لیسانس</option>
                                                <option value="دکترا">دکترا</option>
                                            {% elif degree != '0' %}
                                                <option value="{{ degree }}">{{ degree }}</option>
                                                <option value="0">مدرک تحصیلی</option>
                                                <option value="سیکل">سیکل</option>
                                                <option value="دیپلم">دیپلم</option>
                                                <option value="فوق دیپلم">فوق دیپلم</option>
                                                <option value="لیسانس">لیسانس</option>
                                                <option value="فوق لیسانس">فوق لیسانس</option>
                                                <option value="دکترا">دکترا</option>
                                            {% endif %}

                                        </select>
                                        {% if degree == '0' %}
                                        	<ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    <script>
                                        function toggleEducationField2() {
                                            const educationField = document.getElementById('educationField');
                                            const educationLevel = document.getElementById('degree').value;

                                            // اگر "سیکل" یا مقدار پیش‌فرض (0) انتخاب شده باشد، فیلد را مخفی کنید
                                            educationField.style.display = (educationLevel === 'سیکل' || educationLevel === '0') ? 'none' : 'block';
                                        }
                                    </script>

                                    {% if degree == "دیپلم" or degree == "فوق دیپلم" or degree == 'لیسانس' or degree == 'فوق لیسانس' or degree == 'دکترا' %}
                                    	<div class="form-group" style="" id="educationField">
                                            <label class="input-label"> رشته تحصیلی :</label>
                                            <input class="form-control" id="fieldـstudy" type="text" placeholder="رشته تحصیلی" value="{{ fieldـstudy }}"  name="fieldـstudy">
                                            {% if fieldـstudy == '' %}
                                                <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                            {% endif %}
                                        </div>
                                    {% else %}
                                        <div class="form-group" style="display: none" id="educationField">
                                            <label class="input-label"> رشته تحصیلی :</label>
                                            <input class="form-control" id="fieldـstudy" type="text" placeholder="رشته تحصیلی"  name="fieldـstudy">
                                        </div>
                                    {% endif %}



                                    <div class="form-group">
                                        <label class="input-label"> اگر گواهینامه فنی حرفه ای خاصی دارید توضیح دهید :</label>
                                        {{ form.professional_certificates }}
                                        {{ form.professional_certificates.errors }}

                                    </div>
                                    <div class="form-group">
                                        <label class="input-label"> اگر مهارت خاصی دارید توضیح دهید :</label>
                                        {{ form.skills }}
                                        {{ form.skills.errors }}
                                    </div>
                                    <div class="form-group">
                                        <label class="input-label"> تصویر سابقه بیمه ای :</label>
                                        <label class="file-upload" id="upload-box1">
                                            <div class="selected-file" id="file-name1">تصویر سابقه بیمه ای 📂</div>
                                            <input id="picture-insurance-history" type="file" name="picture_insurance_history" onchange="showFileName1()" value="0">

                                        </label>
                                        {% if picture_insurance_history == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}


                                    </div>
                                    <script>
                                        function showFileName1() {
                                            const input = document.getElementById('picture-insurance-history');
                                            const fileName = document.getElementById('file-name1');
                                            const uploadBox = document.getElementById('upload-box1');


                                            if (input.files.length > 0) {
                                                fileName.textContent = "✅ فایل انتخاب شد.";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.add("uploaded");

                                            } else {
                                                fileName.textContent = "تصویر سابقه بیمه ای 📂";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.remove("uploaded");

                                            }

                                        }
                                    </script>

                                    <div class="form-group">
                                        <label class="input-label"> نوع گواهینامه رانندگی :</label>
                                        <select class="form-control" id="worklike" onchange="primerycode()"  name="type_driver_license">
                                            {% if type_driver_license == None %}
                                            	<option value="0">نوع گواهینامه رانندگی</option>
                                                <option value="پایه یک">پایه یک</option>
                                                <option value="پایه دو">پایه دو</option>
                                                <option value="پایه سه">پایه سه</option>

                                            {% elif type_driver_license == '0' %}
                                                <option value="0">نوع گواهینامه رانندگی</option>
                                                <option value="پایه یک">پایه یک</option>
                                                <option value="پایه دو">پایه دو</option>
                                                <option value="پایه سه">پایه سه</option>
                                            {% elif type_driver_license != '0' %}
                                                <option value="{{ type_driver_license }}">{{ type_driver_license }}</option>
                                                <option value="0">نوع گواهینامه رانندگی</option>
                                                <option value="پایه یک">پایه یک</option>
                                                <option value="پایه دو">پایه دو</option>
                                                <option value="پایه سه">پایه سه</option>
                                            {% endif %}


                                        </select>
                                        {% if type_driver_license == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}

                                    </div>

                                    <div class="form-group">
                                        <label class="input-label"> آیا گواهینامه موتور سیکت دارید ؟ </label>
                                        <select class="form-control" id="worklike" onchange="primerycode()"  name="driving_motor">
                                            {% if driving_motor == None %}
                                            	<option value="0">آیا گواهینامه موتور سیکت دارید ؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif driving_motor == '0' %}
                                                <option value="0">آیا گواهینامه موتور سیکت دارید ؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif driving_motor != '0' %}
                                                <option value="{{ driving_motor }}">{{ driving_motor }}</option>
                                                <option value="0">آیا گواهینامه موتور سیکت دارید ؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% endif %}


                                        </select>
                                        {% if driving_motor == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}

                                    </div>

                                    <div class="form-group">
                                        <label class="input-label"> آیا کد ویژه دارید؟ </label>
                                        <select class="form-control" id="has_special_license" onchange="toggleSpecialLicenseFields()" name="has_special_license">
                                            {% if has_special_license == None %}
                                                <option value="0">آیا کد ویژه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif has_special_license == '0' %}
                                                <option value="0">آیا کد ویژه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif has_special_license != '0' %}
                                                <option value="{{ has_special_license }}">{{ has_special_license }}</option>
                                                <option value="0">آیا کد ویژه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% endif %}
                                        </select>
                                        {% if has_special_license == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    {% if has_special_license == 'بله' %}
                                        <div class="form-group" style="" id="specialLicenseContainer">
                                            <button type="button" class="default-btn contact-btn" onclick="addSpecialLicenseField()" style="margin-bottom: 15px;">
                                                افزودن کد ویژه
                                            </button>

                                            <div id="specialLicenseFields">
                                                {% if special_license != '0' %}
                                                    {% for code in special_license %}
                                                        <div class="license-code-field" style="margin-bottom: 15px; padding: 10px; border: 1px solid rgb(201 200 200); border-radius: 25px; background-color: #FFFEF4FF;">
                                                            <input class="form-control" type="text" name="special_license" placeholder="کد گواهینامه ویژه" value="{{ code }}">
                                                            <button type="button" onclick="removeLicenseField(this)" class="default-btn contact-btn" style=" margin-top: 10px; padding: 5px 10px; font-size: 15px">
                                                                حذف این کد
                                                            </button>
                                                        </div>
                                                    {% endfor %}
                                                {% endif %}
                                            </div>

                                            {% if special_license == '0' %}
                                                <ul class="errorlist" id="error-message" style=""><li>حداقل یک کد ویژه باید وارد شود.</li></ul>
                                            {% endif %}
                                        </div>
                                    {% else %}
                                        <div class="form-group" style="display: none;" id="specialLicenseContainer">
                                            <button type="button" class="default-btn contact-btn" onclick="addSpecialLicenseField()" style="margin-bottom: 15px;">
                                                افزودن کد ویژه
                                            </button>

                                            <div id="specialLicenseFields">
                                                <!-- فیلدهای کد ویژه اینجا اضافه می شوند -->
                                            </div>
                                        </div>
                                    {% endif %}

                                    <script>
                                        function toggleSpecialLicenseFields() {
                                            const selectValue = document.getElementById('has_special_license').value;
                                            const container = document.getElementById('specialLicenseContainer');
                                            container.style.display = (selectValue === 'بله') ? 'block' : 'none';

                                            // اگر کاربر "خیر" را انتخاب کرد، تمام فیلدهای کد ویژه را پاک کنید
                                            if (selectValue === 'خیر') {
                                                document.getElementById('specialLicenseFields').innerHTML = '';
                                            }
                                        }

                                        function addSpecialLicenseField() {
                                            const container = document.getElementById('specialLicenseFields');
                                            const fieldCount = container.querySelectorAll('.license-code-field').length + 1;

                                            const fieldDiv = document.createElement('div');
                                            fieldDiv.className = 'license-code-field';
                                            fieldDiv.style.marginBottom = '15px';
                                            fieldDiv.style.padding = '10px';
                                            fieldDiv.style.border = '1px solid rgb(201 200 200)';
                                            fieldDiv.style.borderRadius = '25px';
                                            fieldDiv.style.backgroundColor = 'rgb(255 254 244)';

                                            fieldDiv.innerHTML = `
                                                <input class="form-control" type="text" name="special_license" placeholder="کد گواهینامه ویژه" required>
                                                <button type="button" onclick="removeLicenseField(this)" class="default-btn contact-btn" style="margin-top: 10px; padding: 5px 10px; font-size: 15px">
                                                    حذف این کد
                                                </button>
                                            `;

                                            container.appendChild(fieldDiv);
                                        }

                                        function removeLicenseField(button) {
                                            const fieldToRemove = button.closest('.license-code-field');
                                            if (fieldToRemove) {
                                                fieldToRemove.remove();

                                                // اگر همه فیلدها حذف شدند، پیام خطا نمایش دهید
                                                const fields = document.querySelectorAll('.license-code-field');
                                                if (fields.length === 0) {
                                                    const errorDiv = document.createElement('div');
                                                    errorDiv.innerHTML = '<ul class="errorlist" id="error-message" style=""><li>حداقل یک کد ویژه باید وارد شود.</li></ul>';
                                                    document.getElementById('specialLicenseContainer').appendChild(errorDiv);
                                                }
                                            }
                                        }
                                    </script>



                                    <div class="form-group">
                                        <label class="input-label"> تصویر گواهینامه :</label>
                                        <label class="file-upload" id="upload-box2">
                                            <div class="selected-file" id="file-name2">تصویر گواهینامه 📂</div>
                                            <input id="acknowledgment_image" type="file" name="acknowledgment_image" onchange="showFileName()" value="0">

                                        </label>
                                        {% if acknowledgment_image == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}


                                    </div>
                                    <script>
                                        function showFileName() {
                                            const input = document.getElementById('acknowledgment_image');
                                            const fileName = document.getElementById('file-name2');
                                            const uploadBox = document.getElementById('upload-box2');


                                            if (input.files.length > 0) {
                                                fileName.textContent = "✅ فایل انتخاب شد.";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.add("uploaded");

                                            } else {
                                                fileName.textContent = "تصویر گواهینامه 📂";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.remove("uploaded");

                                            }

                                        }
                                    </script>

                                    <div class="form-group">
                                        <label class="input-label"> تصویر پشت گواهینامه :</label>
                                        <label class="file-upload" id="upload-box23">
                                            <div class="selected-file" id="file-name23">تصویر پشت گواهینامه 📂</div>
                                            <input id="acknowledgment_image2" type="file" name="acknowledgment_image2" onchange="showFileName2()" value="0">

                                        </label>
                                        {% if acknowledgment_image == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}


                                    </div>
                                    <script>
                                        function showFileName2() {
                                            const input = document.getElementById('acknowledgment_image2');
                                            const fileName = document.getElementById('file-name23');
                                            const uploadBox = document.getElementById('upload-box23');


                                            if (input.files.length > 0) {
                                                fileName.textContent = "✅ فایل انتخاب شد.";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.add("uploaded");

                                            } else {
                                                fileName.textContent = "تصویر گواهینامه 📂";
                                                fileName.style.opacity = "1";
                                                uploadBox.classList.remove("uploaded");

                                            }

                                        }
                                    </script>

                                    <div class="form-group">
                                        <label class="input-label"> قبلا با مجموعه ای کار داشتین؟ </label>
                                        <select class="form-control" id="قبلا با مجموعه ای کار داشتین؟" onchange="togglePreviousWorkFields2()"  name="work_history">
                                            {% if work_history == None %}
                                            	<option value="0">قبلا با مجموعه ای کار داشتین؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif work_history == '0' %}
                                                <option value="0">قبلا با مجموعه ای کار داشتین؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif work_history != '0' %}
                                                <option value="{{ work_history }}">{{ work_history }}</option>
                                                <option value="0">قبلا با مجموعه ای کار داشتین؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% endif %}

                                        </select>
                                        {% if work_history == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    <script>

                                        function togglePreviousWorkFields2() {
                                            const previousWorkFields = document.getElementById('previousWorkFields');
                                            const hasPreviousWork = document.getElementById('قبلا با مجموعه ای کار داشتین؟').value;
                                            previousWorkFields.style.display = (hasPreviousWork === 'بله') ? 'block' : 'none';
                                        }
                                    </script>

                                    {% if work_history == 'بله' %}

                                    	<div style="" id="previousWorkFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام شرکت قبلی :</label>
                                                <input class="form-control" id="" type="text" placeholder="نام شرکت قبلی" name="name_company" value="{{ name_company }}">
                                                {% if name_company == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> سمت شما در شرکت قبلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="سمت شما در شرکت قبلی"  name="semat_work" value="{{ semat_work }}">
                                                {% if semat_work == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> مدت زمان کار شما با شرکت قبلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="مدت زمان کار شما با شرکت قبلی"  name="time_work_history" value="{{ time_work_history }}">
                                                {% if time_work_history == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <div class="form-group">
                                                <label class="input-label"> تصویر رضایت نامه از شرکت قبلی :</label>
                                                <label class="file-upload" id="upload-box5">
                                                    <div class="selected-file" id="file-name5">تصویر رضایت نامه از شرکت قبلی 📂</div>
                                                    <input id="img_certificate_work" type="file" name="img_certificate_work" onchange="showFileName5()" value="0">

                                                </label>
                                                {% if img_certificate_work == '0' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}


                                            </div>
                                            <script>
                                                function showFileName5() {
                                                    const input = document.getElementById('img_certificate_work');
                                                    const fileName = document.getElementById('file-name5');
                                                    const uploadBox = document.getElementById('upload-box5');


                                                    if (input.files.length > 0) {
                                                        fileName.textContent = "✅ فایل انتخاب شد.";
                                                        fileName.style.opacity = "1";
                                                        uploadBox.classList.add("uploaded");

                                                    } else {
                                                        fileName.textContent = "تصویر رضایت نامه از شرکت قبلی 📂";
                                                        fileName.style.opacity = "1";
                                                        uploadBox.classList.remove("uploaded");

                                                    }

                                                }
                                            </script>
                                        </div>
                                    {% else %}
                                        <div style="display:none;" id="previousWorkFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام شرکت قبلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="نام شرکت قبلی"  name="name_company">
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> سمت شما در شرکت قبلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="سمت شما در شرکت قبلی"  name="semat_work">
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> مدت زمان کار شما با شرکت قبلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="مدت زمان کار شما با شرکت قبلی"  name="time_work_history">
                                            </div>
                                            <div class="form-group">
                                                <label class="input-label"> تصویر رضایت نامه از شرکت قبلی :</label>
                                                <label class="file-upload" id="upload-box5">
                                                    <div class="selected-file" id="file-name5">تصویر رضایت نامه از شرکت قبلی 📂</div>
                                                    <input id="img_certificate_work" type="file" name="img_certificate_work" onchange="showFileName5()" value="0">

                                                </label>
                                                {% if img_certificate_work == '0' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <script>
                                                function showFileName5() {
                                                    const input = document.getElementById('img_certificate_work');
                                                    const fileName = document.getElementById('file-name5');
                                                    const uploadBox = document.getElementById('upload-box5');


                                                    if (input.files.length > 0) {
                                                        fileName.textContent = "✅ فایل انتخاب شد.";
                                                        fileName.style.opacity = "1";
                                                        uploadBox.classList.add("uploaded");

                                                    } else {
                                                        fileName.textContent = "تصویر رضایت نامه از شرکت قبلی 📂";
                                                        fileName.style.opacity = "1";
                                                        uploadBox.classList.remove("uploaded");

                                                    }

                                                }
                                            </script>
                                        </div>
                                    {% endif %}



                                    <div class="form-group">
                                        <label class="input-label"> طریقه آشنایی با شرکت ما :</label>
                                        <select class="form-control" id="طریقه آشنایی با شرکت ما"  onchange="toggleReferralFields2()" name="know_our_company">
                                            {% if know_our_company == None %}
                                            	<option value="0">طریقه آشنایی با شرکت ما</option>
                                                <option value="شبکه های اجتماعی">شبکه های اجتماعی</option>
                                                <option value="معرف">معرف</option>
                                            {% elif know_our_company == '0' %}
                                                <option value="0">طریقه آشنایی با شرکت ما</option>
                                                <option value="شبکه های اجتماعی">شبکه های اجتماعی</option>
                                                <option value="معرف">معرف</option>
                                            {% elif know_our_company != '0' %}
                                                <option value="{{ know_our_company }}">{{ know_our_company }}</option>
                                                <option value="0">طریقه آشنایی با شرکت ما</option>
                                                <option value="شبکه های اجتماعی">شبکه های اجتماعی</option>
                                                <option value="معرف">معرف</option>
                                            {% endif %}

                                        </select>
                                        {% if know_our_company == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    <script>
                                        function toggleReferralFields2() {
                                            const referralFields = document.getElementById('referralFields');
                                            const referralType = document.getElementById('طریقه آشنایی با شرکت ما').value;
                                            referralFields.style.display = (referralType === 'معرف') ? 'block' : 'none';
                                        }
                                    </script>
                                    {% if know_our_company == 'معرف' %}
                                    	<div style="" id="referralFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام معرف :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="نام معرف"  name="representative_name" value="{{ representative_name }}">
                                                {% if representative_name == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> شماره تماس معرف :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="شماره تماس معرف"  name="representative_phone_number" value="{{ representative_phone_number }}">
                                                {% if representative_name == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>

                                        </div>
                                    {% else %}
                                        <div style="display:none;" id="referralFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام معرف :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="نام معرف"  name="representative_name">
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> شماره تماس معرف :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="شماره تماس معرف"  name="representative_phone_number">
                                            </div>

                                        </div>
                                    {% endif %}




                                    <div class="form-group">
                                        <label class="input-label"> سابقه کاری مرتبط با صدرا سازه دارید؟ </label>
                                        <select class="form-control"  id="company" name="relatedـworkـexperience" onchange="toggleReferralFields4()">
                                            {% if relatedـworkـexperience == None %}
                                            	<option value="0">سابقه کاری مرتبط با صدرا سازه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif relatedـworkـexperience == '0' %}
                                                <option value="0">سابقه کاری مرتبط با صدرا سازه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% elif relatedـworkـexperience != '0' %}
                                                <option value="{{ relatedـworkـexperience }}">{{ relatedـworkـexperience }}</option>
                                                <option value="0">سابقه کاری مرتبط با صدرا سازه دارید؟</option>
                                                <option value="بله">بله</option>
                                                <option value="خیر">خیر</option>
                                            {% endif %}

                                        </select>
                                        {% if relatedـworkـexperience == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    <script>
                                        function toggleReferralFields4() {
                                            const referralFields = document.getElementById('company2');
                                            const referralType = document.getElementById('company').value;
                                            referralFields.style.display = (referralType === 'بله') ? 'block' : 'none';
                                        }
                                    </script>

                                    {% if relatedـworkـexperience == 'بله' %}
                                    	<div class="form-group" style="" id="company2">
                                            <label class="input-label"> توضیحی درباره کار مرتبط با حوزه کاری ما :</label>
                                            <textarea class="message-field" id="father-name" type="text" placeholder="توضیحی درباره کار مرتبط با حوزه کاری ما" name="descriptionـrelatedـwork">{{ descriptionـrelatedـwork }}</textarea>
                                            {% if descriptionـrelatedـwork == '' %}
                                                <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                            {% endif %}
                                        </div>
                                    {% else %}
                                        <div class="form-group" style="display: none" id="company2">
                                            <label class="input-label"> توضیحی درباره کار مرتبط با حوزه کاری ما :</label>
                                            <textarea class="message-field" id="father-name" type="text" placeholder="توضیحی درباره کار مرتبط با حوزه کاری ما"  name="descriptionـrelatedـwork"></textarea>
                                        </div>
                                    {% endif %}



                                    <div class="form-group">
                                        <label class="input-label"> وضعیت اشتغال :</label>
                                        <select class="form-control" id="وضعیت اشتغال"  onchange="toggleEmploymentFields2()" name="employmentـstatus">
                                            {% if employmentـstatus == None %}
                                                <option value="0">وضعیت اشتغال</option>
                                                <option value="شاغل">شاغل</option>
                                                <option value="فاقد شغل">فاقد شغل</option>
                                            {% elif employmentـstatus == '0' %}
                                                <option value="0">وضعیت اشتغال</option>
                                                <option value="شاغل">شاغل</option>
                                                <option value="فاقد شغل">فاقد شغل</option>
                                            {% elif employmentـstatus != '0' %}
                                                <option value="{{ employmentـstatus }}">{{ employmentـstatus }}</option>
                                                <option value="0">وضعیت اشتغال</option>
                                                <option value="شاغل">شاغل</option>
                                                <option value="فاقد شغل">فاقد شغل</option>
                                            {% endif %}



                                        </select>
                                        {% if employmentـstatus == '0' %}
                                            <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                        {% endif %}
                                    </div>

                                    <script>
                                        function toggleEmploymentFields2() {
                                            const employmentFields = document.getElementById('employmentFields');
                                            const employmentStatus = document.getElementById('وضعیت اشتغال').value;
                                            employmentFields.style.display = (employmentStatus === 'شاغل') ? 'block' : 'none';
                                        }
                                    </script>

                                    {% if employmentـstatus == 'شاغل' %}
                                    	<div style="" id="employmentFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام شرکت فعلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="نام شرکت فعلی"  name="online_company" value="{{ online_company }}">
                                                {% if online_company == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> سمت فعلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="سمت فعلی"  name="semat_online_company" value="{{ semat_online_company }}">
                                                {% if semat_online_company == '' %}
                                                    <ul class="errorlist" id="error-message" style=""><li>این فیلد اجباری است.</li></ul>
                                                {% endif %}
                                            </div>

                                        </div>
                                    {% else %}
                                        <div style="display:none;" id="employmentFields">
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> نام شرکت فعلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="نام شرکت فعلی"  name="online_company">
                                            </div>
                                            <div class="form-group" style="" id="educationField">
                                                <label class="input-label"> سمت فعلی :</label>
                                                <input class="form-control" id="father-name" type="text" placeholder="سمت فعلی"  name="semat_online_company">
                                            </div>

                                        </div>
                                    {% endif %}






                                    <div class="col-sm-12" style="text-align: center">
                                        <a class="default-btn contact-btn" href="{% url 'CooperateStep_2' %}">
                                            مرحله قبلی
                                        </a>
                                        <button type="submit" class="default-btn contact-btn">
                                            مرحله بعدی
                                        </button>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <script>
            // توابع داینامیک برای فیلدهای معافیت و پایان خدمت، رشته تحصیلی و سایر فیلدها
            function toggleMilitaryFields() {
                let militaryStatus = document.querySelector('select[name="military-status"]').value;
                document.getElementById('military-exemption-type').style.display = militaryStatus === 'exempt' ? 'block' : 'none';
                document.getElementById('military-service-photo').style.display = militaryStatus === 'served' ? 'block' : 'none';
            }

            function toggleMajorField() {
                let education = document.querySelector('select[name="education"]').value;
                document.getElementById('major-field').style.display = education === 'cycle' ? 'none' : 'block';
            }

            function togglePreviousWorkFields() {
                let workedBefore = document.querySelector('select[name="worked-before"]').value;
                document.getElementById('previous-work-fields').style.display = workedBefore === 'yes' ? 'block' : 'none';
            }

            function toggleReferralFields() {
                let howHeard = document.querySelector('select[name="how-heard"]').value;
                document.getElementById('referral-fields').style.display = howHeard === 'referral' ? 'block' : 'none';
            }

            function nextStep(step) {
                document.querySelector('.step.active').classList.remove('active');
                document.getElementById('step' + step).classList.add('active');
            }

            function prevStep(step) {
                document.querySelector('.step.active').classList.remove('active');
                document.getElementById('step' + step).classList.add('active');
            }

            // لیست استان‌ها و شهرها
            const iranProvinces = {
                "آذربایجان شرقی": ["تبریز", "مراغه", "مرند", "اهر", "میانه"],
                "آذربایجان غربی": ["ارومیه", "خوی", "مهاباد", "بوکان", "سلماس"],
                "اردبیل": ["اردبیل", "مشگین‌شهر", "خلخال", "پارس‌آباد", "نمین"],
                "اصفهان": ["اصفهان", "کاشان", "خمینی‌شهر", "نجف‌آباد", "فلاورجان"],
                "البرز": ["کرج", "فردیس", "نظرآباد", "هشتگرد", "طالقان"],
                "ایلام": ["ایلام", "دهلران", "مهران", "آبدانان", "سرابله"],
                "بوشهر": ["بوشهر", "گناوه", "دشتستان", "کنگان", "عسلویه"],
                "تهران": ["تهران", "ری", "شمیرانات", "ورامین", "دماوند"],
                "چهارمحال و بختیاری": ["شهرکرد", "بروجن", "فارسان", "لردگان", "کوهرنگ"],
                "خراسان جنوبی": ["بیرجند", "طبس", "قائن", "فردوس", "نهبندان"],
                "خراسان رضوی": ["مشهد", "نیشابور", "سبزوار", "تربت‌حیدریه", "قوچان"],
                "خراسان شمالی": ["بجنورد", "شیروان", "اسفراین", "جاجرم", "فاروج"],
                "خوزستان": ["اهواز", "آبادان", "دزفول", "خرمشهر", "ماهشهر"],
                "زنجان": ["زنجان", "ابهر", "خرمدره", "ماه‌نشان", "طارم"],
                "سمنان": ["سمنان", "شاهرود", "دامغان", "گرمسار", "مهدی‌شهر"],
                "سیستان و بلوچستان": ["زاهدان", "چابهار", "ایرانشهر", "خاش", "سراوان"],
                "فارس": ["شیراز", "مرودشت", "کازرون", "فسا", "لار"],
                "قزوین": ["قزوین", "البرز", "تاکستان", "بوئین‌زهرا", "آبیک"],
                "قم": ["قم"],
                "کردستان": ["سنندج", "مریوان", "سقز", "بانه", "بیجار"],
                "کرمان": ["کرمان", "رفسنجان", "سیرجان", "بم", "جیرفت"],
                "کرمانشاه": ["کرمانشاه", "اسلام‌آباد غرب", "سرپل ذهاب", "سنقر", "کنگاور"],
                "کهگیلویه و بویراحمد": ["یاسوج", "دوگنبدان", "دهدشت", "لیکک", "سی‌سخت"],
                "گلستان": ["گرگان", "گنبد کاووس", "علی‌آباد", "آق‌قلا", "مینودشت"],
                "گیلان": ["رشت", "لاهیجان", "انزلی", "لنگرود", "آستارا"],
                "لرستان": ["خرم‌آباد", "بروجرد", "دورود", "کوهدشت", "الیگودرز"],
                "مازندران": ["ساری", "بابل", "آمل", "قائم‌شهر", "تنکابن"],
                "مرکزی": ["اراک", "ساوه", "خمین", "محلات", "شازند"],
                "هرمزگان": ["بندرعباس", "قشم", "کیش", "بندر لنگه", "میناب"],
                "همدان": ["همدان", "ملایر", "نهاوند", "تویسرکان", "کبودرآهنگ"],
                "یزد": ["یزد", "میبد", "اردکان", "بافق", "ابرکوه"]
            };

            // افزودن استان‌ها به select
            const provinceSelect = document.getElementById("province");
            const citySelect = document.getElementById("city");

            for (let province in iranProvinces) {
                let option = document.createElement("option");
                option.value = province;
                option.textContent = province;
                provinceSelect.appendChild(option);
            }

            // به‌روزرسانی لیست شهرها بر اساس استان انتخاب‌شده
            function updateCities() {
                let selectedProvince = provinceSelect.value;
                citySelect.innerHTML = '<option value="0">شهر</option>'; // پاک کردن لیست قبلی

                if (selectedProvince) {
                    iranProvinces[selectedProvince].forEach(city => {
                        let option = document.createElement("option");
                        option.value = city;
                        option.textContent = city;
                        citySelect.appendChild(option);
                    });
                }
            }

            // لیست استان‌ها و شهرها
            const iranProvinces2 = {
                "آذربایجان شرقی": ["تبریز", "مراغه", "مرند", "اهر", "میانه"],
                "آذربایجان غربی": ["ارومیه", "خوی", "مهاباد", "بوکان", "سلماس"],
                "اردبیل": ["اردبیل", "مشگین‌شهر", "خلخال", "پارس‌آباد", "نمین"],
                "اصفهان": ["اصفهان", "کاشان", "خمینی‌شهر", "نجف‌آباد", "فلاورجان"],
                "البرز": ["کرج", "فردیس", "نظرآباد", "هشتگرد", "طالقان"],
                "ایلام": ["ایلام", "دهلران", "مهران", "آبدانان", "سرابله"],
                "بوشهر": ["بوشهر", "گناوه", "دشتستان", "کنگان", "عسلویه"],
                "تهران": ["تهران", "ری", "شمیرانات", "ورامین", "دماوند"],
                "چهارمحال و بختیاری": ["شهرکرد", "بروجن", "فارسان", "لردگان", "کوهرنگ"],
                "خراسان جنوبی": ["بیرجند", "طبس", "قائن", "فردوس", "نهبندان"],
                "خراسان رضوی": ["مشهد", "نیشابور", "سبزوار", "تربت‌حیدریه", "قوچان"],
                "خراسان شمالی": ["بجنورد", "شیروان", "اسفراین", "جاجرم", "فاروج"],
                "خوزستان": ["اهواز", "آبادان", "دزفول", "خرمشهر", "ماهشهر"],
                "زنجان": ["زنجان", "ابهر", "خرمدره", "ماه‌نشان", "طارم"],
                "سمنان": ["سمنان", "شاهرود", "دامغان", "گرمسار", "مهدی‌شهر"],
                "سیستان و بلوچستان": ["زاهدان", "چابهار", "ایرانشهر", "خاش", "سراوان"],
                "فارس": ["شیراز", "مرودشت", "کازرون", "فسا", "لار"],
                "قزوین": ["قزوین", "البرز", "تاکستان", "بوئین‌زهرا", "آبیک"],
                "قم": ["قم"],
                "کردستان": ["سنندج", "مریوان", "سقز", "بانه", "بیجار"],
                "کرمان": ["کرمان", "رفسنجان", "سیرجان", "بم", "جیرفت"],
                "کرمانشاه": ["کرمانشاه", "اسلام‌آباد غرب", "سرپل ذهاب", "سنقر", "کنگاور"],
                "کهگیلویه و بویراحمد": ["یاسوج", "دوگنبدان", "دهدشت", "لیکک", "سی‌سخت"],
                "گلستان": ["گرگان", "گنبد کاووس", "علی‌آباد", "آق‌قلا", "مینودشت"],
                "گیلان": ["رشت", "لاهیجان", "انزلی", "لنگرود", "آستارا"],
                "لرستان": ["خرم‌آباد", "بروجرد", "دورود", "کوهدشت", "الیگودرز"],
                "مازندران": ["ساری", "بابل", "آمل", "قائم‌شهر", "تنکابن"],
                "مرکزی": ["اراک", "ساوه", "خمین", "محلات", "شازند"],
                "هرمزگان": ["بندرعباس", "قشم", "کیش", "بندر لنگه", "میناب"],
                "همدان": ["همدان", "ملایر", "نهاوند", "تویسرکان", "کبودرآهنگ"],
                "یزد": ["یزد", "میبد", "اردکان", "بافق", "ابرکوه"]
            };

            // افزودن استان‌ها به select
            const provinceSelect2 = document.getElementById("province2");
            const citySelect2 = document.getElementById("city2");

            for (let province in iranProvinces2) {
                let option = document.createElement("option");
                option.value = province;
                option.textContent = province;
                provinceSelect2.appendChild(option);
            }

            // به‌روزرسانی لیست شهرها بر اساس استان انتخاب‌شده
            function updateCities2() {
                let selectedProvince = provinceSelect2.value;
                citySelect2.innerHTML = '<option value="0">شهر</option>'; // پاک کردن لیست قبلی

                if (selectedProvince) {
                    iranProvinces2[selectedProvince].forEach(city => {
                        let option = document.createElement("option");
                        option.value = city;
                        option.textContent = city;
                        citySelect2.appendChild(option);
                    });
                }
            }
        </script>



        {# تقویم #}
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var dp = jalaliDatepicker;
                dp.startWatch();
            });
        </script>
{% endblock %}